---
layout: post
title: "GameTheory"
categories: 课程笔记
math: true
---

**Hotelling 模型学习笔记**

Hotelling 模型（Hotelling's Linear City Model，又称“线性城市模型”）是产业组织理论中研究**水平产品差异化**和**空间竞争**的经典模型。它最初由经济学家 Harold Hotelling 在 1929 年提出，用于解释竞争者在产品特征或地理位置上趋向于相似（最小差异化原则）的现象。

---

# hoteling

### 1.1 核心假设



1. **市场空间（线性城市）**：市场是一个长度为 1 的线段，通常表示为 $[0, 1]$。
2. **消费者分布**：消费者均匀地分布在这条线段上，总消费量标准化为 1。每个消费者的位置 $x \in [0, 1]$ 代表其最偏好的产品“位置”或“特征”。
3. **厂商**：有两个厂商（或冰淇淋小贩），Firm 1 和 Firm 2。
4. **产品**：厂商销售同质产品，但通过**位置**（$l_1$ 和 $l_2$）来实现差异化。厂商 1 位于 $l_1 \in [0, 1]$，厂商 2 位于 $l_2 \in [0, 1]$，且假设 $l_1 \le l_2$。
5. **成本**：生产的边际成本 $c$ 相同且恒定（通常设为 $c=0$ 以简化）。
6. **消费者行为**：每个消费者购买且只购买 1 单位产品，保留价格 $V$ 足够高，以确保所有消费者都会购买（市场被完全覆盖）。
7. **购买决策**：消费者选择能使其**效用最大化**的厂商。



### 1.2 消费者效用函数



消费者 $x$ 从厂商 $i$ 购买产品获得的效用 $U_i$ 为：

$$U_i = V - p_i - t |x - l_i|$$

其中：

- $V$：保留价格或购买产品的基本效用。
- $p_i$：厂商 $i$ 设定的价格。
- $|x - l_i|$：消费者位置 $x$ 到厂商位置 $l_i$ 的距离。
- $t$：单位距离的“运输成本”（或差异化成本），$t > 0$。$t |x - l_i|$ 代表消费者因产品与偏好不符而遭受的效用损失。



### 1.3 竞争结构（两阶段博弈）



Hotelling 模型通常被分析为一个两阶段博弈：

1. **阶段 1 (位置选择)**：厂商同时选择他们的位置 $l_1$ 和 $l_2$。
2. **阶段 2 (价格选择)**：给定位置 $l_1$ 和 $l_2$，厂商同时选择他们的价格 $p_1$ 和 $p_2$。

我们使用**逆向归纳法**来求解纳什均衡（Nash Equilibrium）。

## 2. 公式推导过程

### 2.1 阶段 2：价格竞争（给定位置 $l_1, l_2$）



**目标**：求解给定 $l_1, l_2$ 下的价格 $p_1^*, p_2^*$。



#### A. 寻找无差异消费者 $x^*$



无差异消费者 $x^*$ 是指购买厂商 1 和厂商 2 效用相等的消费者：

$$U_1(x^*) = U_2(x^*)$$

$$V - p_1 - t |x^* - l_1| = V - p_2 - t |x^* - l_2|$$

假设 $l_1 \le l_2$，且无差异消费者位于两者之间，即 $l_1 \le x^* \le l_2$。则 $|x^* - l_1| = x^* - l_1$ 且 $|x^* - l_2| = l_2 - x^*$。

$$V - p_1 - t (x^* - l_1) = V - p_2 - t (l_2 - x^*)$$

化简并求解 $x^*$：



$$- p_1 - t x^* + t l_1 = - p_2 - t l_2 + t x^*$$

$$p_2 - p_1 + t l_1 + t l_2 = 2 t x^*$$

无差异消费者 $x^*$ 的位置为：

$$x^* = \frac{p_2 - p_1}{2t} + \frac{l_1 + l_2}{2}$$



#### B. 厂商的需求函数



假设市场被完全覆盖，厂商 1 的需求 $D_1$ 是位于 $x \in [0, x^*]$ 之间的所有消费者（总长度 $x^*$）：

$$D_1(p_1, p_2) = x^* = \frac{p_2 - p_1}{2t} + \frac{l_1 + l_2}{2}$$

厂商 2 的需求 $D_2$ 是位于 $x \in [x^*, 1]$ 之间的所有消费者（总长度 $1 - x^*$）：

$$D_2(p_1, p_2) = 1 - x^* = 1 - \left( \frac{p_2 - p_1}{2t} + \frac{l_1 + l_2}{2} \right)$$

$$D_2(p_1, p_2) = 1 + \frac{p_1 - p_2}{2t} - \frac{l_1 + l_2}{2}$$



#### C. 厂商的利润最大化和反应函数



厂商 $i$ 的利润 $\Pi_i$ 为（假设边际成本 $c=0$）：

$$\Pi_i(p_1, p_2) = (p_i - c) D_i(p_1, p_2) = p_i D_i(p_1, p_2)$$

厂商 1 最大化 $\Pi_1$ 对 $p_1$ 求一阶条件（First-Order Condition, FOC）：

$$\frac{\partial \Pi_1}{\partial p_1} = D_1 + p_1 \frac{\partial D_1}{\partial p_1} = 0$$

其中 $\frac{\partial D_1}{\partial p_1} = -\frac{1}{2t}$。

$$\left( \frac{p_2 - p_1}{2t} + \frac{l_1 + l_2}{2} \right) + p_1 \left( -\frac{1}{2t} \right) = 0$$

$$\frac{p_2}{2t} - \frac{p_1}{2t} + \frac{l_1 + l_2}{2} - \frac{p_1}{2t} = 0$$

$$\frac{p_2}{2t} + \frac{l_1 + l_2}{2} = \frac{2 p_1}{2t} = \frac{p_1}{t}$$

厂商 1 的反应函数 $R_1(p_2)$：

$$p_1 = \frac{p_2}{2} + \frac{t(l_1 + l_2)}{2}$$

同理，厂商 2 的利润最大化 $\frac{\partial \Pi_2}{\partial p_2} = 0$ 得到厂商 2 的反应函数 $R_2(p_1)$。其中 $\frac{\partial D_2}{\partial p_2} = -\frac{1}{2t}$。

$$\left( 1 + \frac{p_1 - p_2}{2t} - \frac{l_1 + l_2}{2} \right) + p_2 \left( -\frac{1}{2t} \right) = 0$$

$$1 + \frac{p_1}{2t} - \frac{p_2}{2t} - \frac{l_1 + l_2}{2} - \frac{p_2}{2t} = 0$$

$$1 + \frac{p_1}{2t} - \frac{l_1 + l_2}{2} = \frac{2 p_2}{2t} = \frac{p_2}{t}$$

厂商 2 的反应函数 $R_2(p_1)$：

$$p_2 = t + \frac{p_1}{2} - \frac{t(l_1 + l_2)}{2}$$



#### D. 价格纳什均衡 $p_1^*, p_2^*$



将 $p_2$ 代入 $p_1$ 的反应函数：

$$p_1 = \frac{1}{2} \left( t + \frac{p_1}{2} - \frac{t(l_1 + l_2)}{2} \right) + \frac{t(l_1 + l_2)}{2}$$

$$p_1 = \frac{t}{2} + \frac{p_1}{4} - \frac{t(l_1 + l_2)}{4} + \frac{t(l_1 + l_2)}{2}$$

$$p_1 - \frac{p_1}{4} = \frac{t}{2} + \frac{t(l_1 + l_2)}{4}$$

$$\frac{3}{4} p_1 = \frac{2t + t(l_1 + l_2)}{4} = \frac{t(2 + l_1 + l_2)}{4}$$

均衡价格 $p_1^*$：

$$p_1^* = \frac{t(2 + l_1 + l_2)}{3}$$

同理，均衡价格 $p_2^*$：

$$p_2^* = \frac{t(2 - l_1 - l_2)}{3} + t$$

$$p_2^* = \frac{t(5 - l_1 - l_2)}{3}$$



(注：为保持对称性，通常令 $l_1=a$, $l_2=1-b$。如果假设 $l_1$ 靠近 0， $l_2$ 靠近 1，则更自然的表示是：

$p_1^ = t(1 + \frac{l_2 - l_1}{3})$， $p_2^* = t(1 + \frac{l_1 - l_2}{3})$ 这种形式，但上述推导基于 $l_1$ 和 $l_2$ 的一般形式)*

**使用对称性 $l_1=a$ 和 $l_2=1-a$（厂商对称地位于端点附近）：**

$l_1 + l_2 = a + (1-a) = 1$。

$p_1^* = \frac{t(2 + 1)}{3} = t$

$p_2^* = \frac{t(2 + 1)}{3} = t$

对称位置下的均衡价格：$p_1^* = p_2^* = t$。

对称位置下的均衡需求：$D_1 = D_2 = x^* = 1/2$。

对称位置下的均衡利润：$\Pi_1 = \Pi_2 = \frac{t}{2}$。

------



### 2.2 阶段 1：位置选择



**目标**：厂商选择 $l_1$ 和 $l_2$ 以最大化其均衡利润 $\Pi_i^*(l_1, l_2)$。

将均衡价格 $p_1^*, p_2^*$ 代入利润函数 $\Pi_i = p_i D_i$。

$$\Pi_1(l_1, l_2) = p_1^* D_1(p_1^*, p_2^*)$$

在纳什均衡价格下，无差异消费者 $x^*$ 变为：



$$x^* = \frac{p_2^* - p_1^*}{2t} + \frac{l_1 + l_2}{2}$$

**最小差异化原则（Principle of Minimum Differentiation）**

Hotelling 的原始模型（假设竞争不导致价格过低）得出的结论是：在位置选择阶段，厂商会选择最小差异化的位置，即都向市场中心移动，最终都定位在 $\frac{1}{2}$ 处。

**推导（简化：假设 $l_1$ 靠近 0，$l_2$ 靠近 1）**

由于对称性，我们只需求解 $\frac{\partial \Pi_1}{\partial l_1} = 0$ 并假设最终 $l_1 = l_2 = 1/2$。

在 $l_1$ 和 $l_2$ 靠近时，由于价格竞争激烈，利润 $\Pi_i$ 对 $l_i$ 是递增的，这使得厂商有动力远离对方，从而“软化”价格竞争。然而，Hotelling 发现厂商总是希望向更大的市场份额移动，从而推向中心。

如果使用对称性 $l_1=a, l_2=1-a$ 的简化情形：

$$\Pi(a) = \frac{t}{2}$$



在对称情况下，利润与 $a$ 无关。这表明在这种简化模型下，任何对称的位置都不是纳什均衡，因为任何一方都可以微调位置以获得更大的市场份额。

**最终的纳什均衡 (Hotelling 原始结论)**

在 Hotelling 原始模型中，厂商倾向于集中在市场中心，即：

$$\text{Nash Equilibrium: } l_1^* = l_2^* = \frac{1}{2}$$

**社会最优位置 (Social Optimum)**

社会最优的目标是**最小化总运输成本** $TC$（消费者效用损失）：

$$TC = \int_0^{1} t \cdot \text{min} \{|x - l_1|, |x - l_2|\} dx$$

由于消费者均匀分布，最小化 $TC$ 要求厂商尽可能分散，以更好地服务于市场两端的消费者。

$$\text{Social Optimum: } l_1^{SO} = \frac{1}{4}, \quad l_2^{SO} = \frac{3}{4}$$

这说明竞争性均衡（集中在中心）与社会最优（分散）之间存在冲突。

------



## 3. 结论与扩展



- **最小差异化原则**：在 Hotelling 线性城市模型中，厂商在位置选择阶段有趋向于向市场中心靠拢的动机。这种“趋同”效应被称为**最小差异化原则**。
- **社会浪费**：纳什均衡下的位置 $\left( \frac{1}{2}, \frac{1}{2} \right)$ 导致了更高的总运输成本，因为它没有很好地服务于两端的消费者，因此不是社会最优的。
- **Smithies 和 Eaton 修正**：Hotelling 的原始分析后来被发现存在一些局限性，特别是在价格均衡的推导上。后来的研究表明，如果允许厂商在价格上足够竞争，纳什均衡可能会不存在，或者厂商会选择**最大差异化**（例如 $l_1=0, l_2=1$），以软化价格竞争。然而，Hotelling 的**最小差异化原则**仍然是描述政治竞争和广告策略等领域的重要见解。



# 古诺模型

关于您询问的**竞争标准（Competition Criteria）**，在古诺模型中，核心的竞争变量是**产量（Quantity）**。这与伯特兰模型（Bertrand Model）以**价格**为竞争变量形成了鲜明对比。

以下是关于古诺模型竞争标准的详细说明，包括假设前提、数学推导过程以及均衡分析。

------

### 一、 核心竞争标准与假设

在古诺模型中，企业通过**同时**决定自身的**产量**来最大化利润。

**核心假设：**

1. **双寡头（Duopoly）：** 假设市场上只有两家企业（企业1和企业2）。
2. **同质产品（Homogeneous Products）：** 两家企业生产的产品完全相同，消费者不在乎购买哪一家的产品。
3. **决策变量：** 企业选择**产量**（$q_1$ 和 $q_2$）作为策略变量。
4. **同时决策（Simultaneous Move）：** 两家企业同时做出产量决策，或者在做决策时不知道对方的决策。
5. **零猜想变差（Zero Conjectural Variation）：** 企业在做决策时，假设竞争对手的产量将保持不变（即认为对手不会因为自己的产量调整而改变产量）。
6. **市场出清：** 市场价格由总供给量决定，即价格是总产量的函数。

------

### 二、 数学理论与推导过程

为了推导方便，我们使用线性的反需求函数和不变的边际成本。

#### 1. 模型设定

- 反需求函数（Inverse Demand Function）：

  

  $$P = a - bQ$$

  

  其中：

  - $P$ 是市场价格。
  - $Q$ 是市场总产量，且 $Q = q_1 + q_2$。
  - $a$ 是市场最大支付意愿（截距），$b$ 是需求曲线斜率的绝对值（$a, b > 0$）。

- 成本函数（Cost Function）：

  假设两家企业具有相同的边际成本 $c$，且没有固定成本。

  

  $$C_1(q_1) = c \cdot q_1$$

  $$C_2(q_2) = c \cdot q_2$$

  

  （假设 $a > c$，否则企业无利可图）。

#### 2. 利润函数构建

企业的利润 $\pi$ 等于总收益（TR）减去总成本（TC）。

对于企业1：

$$\pi_1 = P \cdot q_1 - C_1(q_1)$$

代入需求函数 $P = a - b(q_1 + q_2)$：

$$\pi_1 = [a - b(q_1 + q_2)] \cdot q_1 - c \cdot q_1$$

展开后：

$$\pi_1 = aq_1 - bq_1^2 - bq_1q_2 - cq_1$$

对于企业2，对称地：

$$\pi_2 = aq_2 - bq_2^2 - bq_1q_2 - cq_2$$

#### 3. 求解反应函数 (Reaction Functions)

企业1的目标是选择 $q_1$ 以最大化 $\pi_1$，同时将 $q_2$ 视为常数（给定值）。根据一阶条件（FOC），我们将利润函数对 $q_1$ 求偏导并令其为0：

$$\frac{\partial \pi_1}{\partial q_1} = a - 2bq_1 - bq_2 - c = 0$$

解出 $q_1$，得到企业1的反应函数 $R_1(q_2)$：

$$2bq_1 = a - c - bq_2$$

$$q_1 = \frac{a - c}{2b} - \frac{1}{2}q_2 \quad \dots\dots (1)$$

同理，对于企业2，求偏导 $\frac{\partial \pi_2}{\partial q_2} = 0$，得到企业2的反应函数 $R_2(q_1)$：

$$q_2 = \frac{a - c}{2b} - \frac{1}{2}q_1 \quad \dots\dots (2)$$

> **解释：** 反应函数表明，如果竞争对手增加产量，该企业的最佳应对策略是减少自己的产量。

#### 4. 求解古诺-纳什均衡 (Cournot-Nash Equilibrium)

**均衡点在于两个反应函数的交点**。即企业1和企业2的选择互为最佳应对。我们需要联立方程 (1) 和 (2) 求解。

将 (2) 代入 (1)：

$$q_1 = \frac{a - c}{2b} - \frac{1}{2} \left( \frac{a - c}{2b} - \frac{1}{2}q_1 \right)$$

化简：

$$q_1 = \frac{a - c}{2b} - \frac{a - c}{4b} + \frac{1}{4}q_1$$

$$\frac{3}{4}q_1 = \frac{a - c}{4b}$$

$$q_1^* = \frac{a - c}{3b}$$

由于对称性：

$$q_2^* = \frac{a - c}{3b}$$

#### 5. 计算市场均衡结果

- 均衡总产量 ($Q^*$)：

  $$Q^* = q_1^* + q_2^* = \frac{2(a - c)}{3b}$$

- 均衡价格 ($P^*$)：

  $$P^* = a - bQ^* = a - b \left( \frac{2(a - c)}{3b} \right) = a - \frac{2(a - c)}{3}$$

  $$P^* = \frac{a + 2c}{3}$$

- 均衡利润 ($\pi^*$)：

  $$\pi_1^* = (P^* - c) \cdot q_1^* = \left( \frac{a + 2c}{3} - c \right) \cdot \frac{a - c}{3b}$$

  $$\pi_1^* = \frac{a - c}{3} \cdot \frac{a - c}{3b} = \frac{(a - c)^2}{9b}$$

------

### 三、 结果分析与对比

为了理解古诺模型的竞争标准意味着什么，我们将其结果与**完全竞争**和**垄断**进行对比：

| **市场结构**   | **总产量 (Q)**        | **价格 (P)**       | **说明**                   |
| -------------- | --------------------- | ------------------ | -------------------------- |
| **完全竞争**   | $\frac{a - c}{b}$     | $c$                | 价格最低，产量最高 (P=MC)  |
| **古诺双寡头** | $\frac{2(a - c)}{3b}$ | $\frac{a + 2c}{3}$ | 介于两者之间               |
| **垄断**       | $\frac{a - c}{2b}$    | $\frac{a + c}{2}$  | 价格最高，产量最低 (MR=MC) |

**关键结论：**

1. **效率介于中间：** 古诺竞争的总产量高于垄断，低于完全竞争；价格低于垄断，高于完全竞争。这意味着古诺模型虽然存在无谓损失（Deadweight Loss），但比纯粹的垄断要好。
2. **相互依赖：** 任何一家企业的利润不仅取决于自己的决策，也取决于对手的决策。
3. **N个企业的推广：** 如果市场上有 $n$ 个相同的企业进行古诺竞争，总产量为 $Q = \frac{n}{n+1} \frac{a-c}{b}$，价格为 $P = c + \frac{a-c}{n+1}$。
   - 当 $n \to \infty$ 时，价格趋向于边际成本 $c$，结果收敛于完全竞争。

### 四、 总结

古诺模型的**竞争标准是产量**。企业基于对市场总容量的预判和对手产量的预期，通过控制向市场投放的产品数量来间接影响价格，从而实现利润最大化。

该模型在数学上展示了这样一个道理：**在缺乏勾结的情况下，追求个人利益最大化的寡头企业，最终会导致整个行业的利润低于联合垄断时的水平，但对消费者来说优于垄断。**

在博弈论中，将**古诺竞争**（同时决策）转变为**斯塔克尔伯格竞争**（Stackelberg Competition，先发优势模型），模型的核心逻辑会从“寻找交点”变为“**逆向归纳法**（Backward Induction）”。

主要的改变在于：**领先者（Leader）不再把追随者（Follower）的产量视为给定的常数，而是预见到追随者会如何根据自己的产量做出反应。**

以下是基于你提供的线性设定进行的详细推导和对比：

------

### 1. 核心差异：决策顺序

- **古诺模型：** 企业 1 和企业 2 同时决定 $q_1, q_2$。
- 斯塔克尔伯格模型： 1.  第一阶段： 企业 1（领先者）先选择 $q_1$。
  2. 第二阶段： 企业 2（追随者）观察到 $q_1$ 后，选择自己的 $q_2$。

------

### 2. 求解过程（逆向归纳法）

#### 第一步：求解追随者（企业 2）的反应

由于企业 2 后动，它是在企业 1 已经确定 $q_1$ 的情况下最大化利润。这与古诺模型中的反应函数推导完全一致：



$$\max_{q_2} \pi_2 = (a - bq_1 - bq_2 - c)q_2$$



一阶条件（FOC）：$\frac{\partial \pi_2}{\partial q_2} = a - bq_1 - 2bq_2 - c = 0$

得到企业 2 的反应函数：



$$q_2^*(q_1) = \frac{a - c - bq_1}{2b}$$

#### 第二步：求解领先者（企业 1）的决策

这是关键变化点。企业 1 知道企业 2 会按照上面的函数来行动。因此，企业 1 在设定自己的利润函数时，直接将 $q_2^*(q_1)$ 代入：



$$\pi_1 = (a - bq_1 - b(q_2^*(q_1)) - c)q_1$$



代入 $q_2^*$：



$$\pi_1 = \left( a - bq_1 - b\left( \frac{a - c - bq_1}{2b} \right) - c \right) q_1$$



简化括号内的表达式：



$$\pi_1 = \left( \frac{2a - 2bq_1 - a + c + bq_1 - 2c}{2} \right) q_1 = \left( \frac{a - c - bq_1}{2} \right) q_1$$

#### 第三步：一阶条件求最优解

对 $\pi_1$ 关于 $q_1$ 求导并令其为 0：



$$\frac{d \pi_1}{d q_1} = \frac{a - c - 2bq_1}{2} = 0$$



解得领先者的产量：



$$q_1^S = \frac{a - c}{2b}$$

最后代回企业 2 的反应函数得到追随者的产量：



$$q_2^S = \frac{a - c - b(\frac{a - c}{2b})}{2b} = \frac{a - c}{4b}$$

------

### 3. 模型结果对比

我们将斯塔克尔伯格均衡（S）与古诺均衡（C）进行对比：

------

### 4. 结论：这带来了什么变化？

1. **先发优势（First-mover Advantage）：** 企业 1 的利润显著增加，而企业 2 的利润显著受损。领先者通过率先增产，强行挤占了市场空间，迫使追随者为了维持价格不至于跌得太惨而不得不缩减产量。
2. **福利效应：** 相比古诺竞争，斯塔克尔伯格竞争的市场总产量更高，价格更低。这意味着从消费者剩余的角度来看，斯塔克尔伯格模型比古诺模型更具效率（更接近完全竞争）。
3. **信息结构的重要性：** 斯塔克尔伯格模型证明了在博弈中，“做出承诺”并被对手观察到的能力是有价值的。如果企业 1 无法向企业 2 “证明”自己已经生产了那么多，博弈就会退化回古诺竞争。

**你想进一步探讨如果两家企业边际成本 $c$ 不相等时，先发优势会如何受到成本劣势或优势的影响吗？**

---

在相同的模型背景下（线性反需求函数 $P = a - bQ$ 和相同边际成本 $c$），将竞争模式从**产量竞争**（古诺/斯塔克尔伯格）切换为**伯川德竞争（Bertrand Competition）**，模型的逻辑和结果都会发生剧烈的“范式转移”。

以下是详细的模型变化与求解推导：

------

### 1. 模型设定的基本变化

最核心的变化在于**决策变量**和**需求函数的表现形式**：

- **决策变量：** 企业不再决定产量 $q_i$，而是直接决定价格 $P_1$ 和 $P_2$。
- **市场份额逻辑（赢家通吃）：** 由于产品是同质的，消费者只买便宜的。
  - 若 $P_i < P_j$，则企业 $i$ 获得全部市场需求：$q_i = \frac{a - P_i}{b}$。
  - 若 $P_i = P_j$，则两家平分市场：$q_i = \frac{1}{2} \cdot \frac{a - P_i}{b}$。
  - 若 $P_i > P_j$，则企业 $i$ 失去所有客户：$q_i = 0$。

------

### 2. 利润函数的构建

由于需求函数是分段的，企业 1 的利润函数 $\pi_1$ 变为：

$$\pi_1(P_1, P_2) =  \begin{cases}  (P_1 - c) \frac{a - P_1}{b} & \text{若 } P_1 < P_2 \\ \frac{1}{2}(P_1 - c) \frac{a - P_1}{b} & \text{若 } P_1 = P_2 \\ 0 & \text{若 } P_1 > P_2  \end{cases}$$

------

### 3. 求解过程：纳什均衡的推导

在伯川德模型中，我们不再使用一阶条件（FOC）求导，而是使用**逻辑推理（剔除占优策略）**来寻找纳什均衡。

#### 第一步：分析削价动力

假设目前的市场价格 $P_1 = P_2 > c$。

- 如果企业 1 稍微降价一点点（设定为 $P_1 - \epsilon$），它将从获得一半的市场份额变为获得**整个市场**。
- 虽然单位利润微幅下降，但由于销量翻倍，总利润必然增加。
- 两家企业都会意识到这一点，从而陷入连续的削价竞争。

#### 第二步：寻找稳定点

- 如果价格降到 $P_1 = P_2 = c$，企业此时利润为 0。
- **向上偏离：** 如果企业 1 提价，销量立刻变为 0，利润仍为 0。
- **向下偏离：** 如果企业 1 继续降价（$P_1 < c$），销量虽然很大，但每卖出一件都在亏损，总利润为负。
- 因此，**$P_1 = P_2 = c$ 是唯一的纳什均衡点。**

------

### 4. 均衡结果对比

在同样的线性参数 $(a, b, c)$ 下，伯川德竞争的结果与古诺/斯塔克尔伯格有着显著区别：

------

### 5. 总结：伯川德竞争带来的变化

1. **竞争烈度骤增：** 仅仅从“决定产量”改为“决定价格”，竞争结果就直接从“寡头分成”变成了“完全竞争”。这就是著名的“伯川德悖论”。
2. **效率提升：** 在伯川德竞争下，资源配置达到了社会最优（价格等于边际成本），没有任何福利损失。
3. **对假设的敏感性：** 伯川德模型非常脆弱。如果引入**产品差异化**（例如品牌不同）或者**产能限制**（例如即便我价格低，我也生产不了整个市场的量），价格就不会降到边际成本 $c$。

---

# A question on class

two participant, F for attack, Q for quit

if one part quit first, the opposite will get value V

if both of them chose attack, both of them get (-C,-C)

if both of them quit, both of them get (0,0)

---

mutistage game

such as V = 1, C = 0.7

with simplify, two stage of the game,

公式 (C.14) 描述了**标准损失函数** $n(x)$ 和**互补损失函数** $\bar{n}(x)$ 之间的恒等关系。

这个公式本质上是**期望算子（Expectation）\**线性性质的体现，也可以理解为库存管理中的\**守恒定律**。以下提供两种推导方法：一种基于代数恒等式（更直观），一种基于积分定义（更严谨）。

### 方法一：基于期望算子的代数推导（推荐）

这是最快且最能体现物理含义的方法。

1. 利用实数的基本恒等式

对于任意实数 $a$，我们都可以把它拆分为“正部” $a^+$ 和“负部” $a^-$ 的差：

$$a = a^+ - a^-$$

其中：

- $a^+ = \max\{a, 0\}$
- $a^- = \max\{-a, 0\}$ （即负数部分的绝对值）
- 代入库存变量

令 $a = X - x$（其中 $X$ 是随机需求，$x$ 是订货量）。

代入上述恒等式：

$$(X - x) = (X - x)^+ - (X - x)^-$$

根据图片中的定义：

- $(X - x)^+$ 对应缺货量（Demand exceeded Order）。
- $(X - x)^-$ 对应剩余库存量（Order exceeded Demand）。注意图片中定义 $\bar{n}(x) = \mathbb{E}[(X - x)^-]$。
- 两边取期望 $\mathbb{E}[\cdot]$

利用期望的线性性质 $\mathbb{E}[A - B] = \mathbb{E}[A] - \mathbb{E}[B]$：

$$\mathbb{E}[X - x] = \mathbb{E}[(X - x)^+] - \mathbb{E}[(X - x)^-]$$

4. 拆解并代入函数定义

左边：$\mathbb{E}[X] - x$ （因为 $x$ 是常数）。

右边：$n(x) - \bar{n}(x)$ （根据图片公式 C.12 和 C.13 的定义）。

得到：



$$\mathbb{E}[X] - x = n(x) - \bar{n}(x)$$

5. 移项整理

我们要推导的是 $\bar{n}(x)$，所以将 $\bar{n}(x)$ 移到左边，其他移到右边：

$$\bar{n}(x) = n(x) - (\mathbb{E}[X] - x)$$

$$\bar{n}(x) = x - \mathbb{E}[X] + n(x)$$

**得证公式 (C.14)**。

------

### 方法二：基于积分定义的推导

如果你需要通过微积分来验证，可以使用图片中给出的积分公式。

1. 写出两个函数的积分形式

根据图片：

- $n(x) = \int_{x}^{\infty} (y - x)f(y)dy$
- $\bar{n}(x) = \int_{-\infty}^{x} (x - y)f(y)dy$
- 计算差值 $n(x) - \bar{n}(x)$



$$n(x) - \bar{n}(x) = \int_{x}^{\infty} (y - x)f(y)dy - \int_{-\infty}^{x} (x - y)f(y)dy$$

3. 展开积分项



$$= \left( \int_{x}^{\infty} yf(y)dy - x\int_{x}^{\infty} f(y)dy \right) - \left( x\int_{-\infty}^{x} f(y)dy - \int_{-\infty}^{x} yf(y)dy \right)$$

4. 合并同类项

将含 $y$ 的项合并，含 $x$ 的项合并：



$$= \left( \int_{x}^{\infty} yf(y)dy + \int_{-\infty}^{x} yf(y)dy \right) - x\left( \int_{x}^{\infty} f(y)dy + \int_{-\infty}^{x} f(y)dy \right)$$

**5. 利用概率性质化简**

- 第一部分：积分区间从 $-\infty$ 到 $x$ 再到 $\infty$，合起来就是全域积分。即期望值 $\mathbb{E}[X]$。

  

  $$\int_{-\infty}^{\infty} yf(y)dy = \mathbb{E}[X]$$

- 第二部分：概率密度函数 $f(y)$ 在全域的积分为 1。

  

  $$\int_{-\infty}^{\infty} f(y)dy = 1$$

由此得到：



$$n(x) - \bar{n}(x) = \mathbb{E}[X] - x(1)$$

6. 移项



$$\bar{n}(x) = x - \mathbb{E}[X] + n(x)$$

------

### 物理含义解释

这个公式讲述了一个非常直观的道理：

> **期望剩余 (Surplus) - 期望缺货 (Shortage) = 订货量 (Supply) - 期望需求 (Demand)**

或者写作：

$$x + n(x) = \mathbb{E}[X] + \bar{n}(x)$$

即：“你手里的货 + 你缺的货” 永远等于 “市场上想要的总量 + 你卖不掉的剩货”。这体现了物资的守恒。